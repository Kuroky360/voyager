<div class="vis-list-item-group card vflex">
  <div ng-if="showExpand || fieldSet"
    class="vis-list-item-header full-width no-shrink" >
    <a ng-if="showExpand"
      ng-click="expandAction()"
      class="command right"
      >
      <i class="fa fa-expand"></i>
    </a>
    <div class="field-set-info" ng-if="fieldSet">
      <field-info ng-repeat="field in fieldSet"
        field='field'
        show-type='true'
        ng-class="{
          selected: isSelected && isSelected(field.name),
          unselected: isSelected && !isSelected(field.name),
          highlighted: (highlighted||{})[field.name]
        }"
        ng-mouseover="(highlighted||{})[field.name] = true"
        ng-mouseout="(highlighted||{})[field.name] = false"
      ></field-info>
    </div>
  </div>
  <div class="vis-list-item full-width vis-{{fieldSet.key}} flex-grow-1">
    <vl-plot vg-spec="chart.vgSpec"
      encoding="chart.encoding"
      max-height="330"
      disabled="isInList && chart && !isInList(chart)"
    ></vl-plot>
  </div>
  <div class="no-shrink">
    <div class="right">
      <a class="command debug" ui-zeroclip zeroclip-model="chart.vlSpec | compactJSON">Copy</a>
      <a class="command debug" ng-href="{{ {type:'vl', encoding: chart.vlSpec} | reportUrl }}" target="_blank">Report Bad Render</a>
    </div>
    <div>
      <a href="#"
        ng-click="Bookmarks.toggle(chart.vlSpec)"
        ng-class="{disabled: !chart.vlSpec.enc}">
        <i class="fa fa-bookmark"></i>
        <span ng-if="Bookmarks.dict[chart.shorthand]"> Remove </span>
        <span ng-if="!Bookmarks.dict[chart.shorthand]"> Add </span>
        Bookmark
      </a>
    </div>
  </div>
</div>